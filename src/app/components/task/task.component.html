<div class="main-block">
    <div class="gradient-header">
        <div class="header-block">
            <img class="wf-icon" src="../../../assets/wf-icon.png">
            <span class="header-title">Workflow Creation</span>
            <div class="dropdown-block">
                <div class="dropdown">
                    <button class="dropbtn">
                        <img class="menu-icon" src="../../../assets/menu.png">
                    </button>
                    <div class="dropdown-content">
                        <a (click)="menuRoute('assign-task')">Assign Task</a>
                        <a (click)="menuRoute('step-execution')">Step Execution</a>
                        <a (click)="menuRoute('task')">Task Creation</a>
                        <a (click)="menuRoute('task-track')">Task Track</a>
                        <a (click)="menuRoute('overview')">Overview</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row step-background child-block">
        <div class="col-md-6 background-blur">
            <div class="task-form task" id="task-form">
                <h3 style="margin-bottom: 20px;color: gray; margin-top: 20px;">Create New Tasks</h3>
                <label class="margin-right">Workflow Name:</label>
                <input type="text" [(ngModel)]="workflow.name">&nbsp;
                <button id="assign-tasks" (click)="createWorkflow()">Create Workflow</button>
                <ng-container *ngIf="showSteps">
                    <div *ngIf="editStepShow">
                        <span class="edit-block">{{editedStepInfo.stepSequence}})</span>
                        <input class="edit-block" [(ngModel)]="editedStepInfo.name" type="text"/>
                        <button class="btn-conditions edit-btn" (click)="editStep()">Edit</button>
                    </div>
                    <div *ngFor="let step of stepsList; let i = index" [@flyInOut]="'in'" class="sub-block">
                        <span class="step-name"><b class="step-sequence">{{step.stepSequence}}</b>
                            {{step.name}}</span>
                        <i (click)="deleteStep(step.id)" data-toggle="tooltip" data-placement="top" title="delete" class="fa fa-trash fa-1x font-icon"></i>
                        <i (click)="getStepForEdit(step.id)" data-toggle="tooltip" data-placement="top" title="edit" class="fa fa-edit fa-1x font-icon"></i>    
                    </div>
                    <div class="conditions">
                        <button (click)="parentNodeCheck('parent')"  class="btn-conditions">Create Parent Node <i  class="fa fa-plus fa-1x plus-icon"></i></button>
                        <button (click)="parentNodeCheck('andSplit')" class="btn-conditions">Create Parallel Split <i  class="fa fa-plus fa-1x plus-icon"></i></button>
                        <button (click)="parentNodeCheck('orSplit')" class="btn-conditions">Create Conditional Split <i  class="fa fa-plus fa-1x plus-icon"></i></button>
                        <button (click)="parentNodeCheck('splitAgain')" class="btn-conditions">Split Again <i  class="fa fa-plus fa-1x plus-icon"></i></button>
                        <button (click)="parentNodeCheck('continue')" class="btn-conditions">Continue with Series <i  class="fa fa-plus fa-1x plus-icon"></i></button>
                        <br>
                    </div>
                    <br>
                    <div *ngIf="showInputField">
                        <span class="edit-block">{{stepTemp.stepSequence}})</span>
                        <input type="text" class="inputtext" [(ngModel)]="taskName" placeholder="Create New Task">
                        <button class="btn btn-plus" id="btn" (click)="createTask()" data-toggle="tooltip" data-placement="top" title="Click to create task">+</button>
                    </div>

                </ng-container>
            </div>
            
        </div>
       
        <div class="col-md-6 background-blur">
            <button id="assign-tasks" class="btn-user" (click)="assignTasks()">Assign Tasks to Users</button>
            <div class="task-form task">
                <h3 style="margin-bottom: 20px;color: gray">Create Users</h3>
                <label class="margin-right">Username:</label>
                <input type="text" [(ngModel)]="activity.name">
                <button class="btn btn-plus" id="btn" (click)="createUser()">+</button>

                <div *ngFor="let act of activityList;  let i = index;" class="sub-block sub-block-user">
                    <span class="index-margin">{{i+1}}.</span>
                    <span>{{act.name}}</span>
                </div>
            </div>
           
        </div>
    </div>
</div>
<ngx-toasta [position]="'top-center'"></ngx-toasta>
