<div class="gradient-header">
    <div class="header-block">
        <img class="wf-icon" src="../../../assets/wf-icon.png">
        <span class="header-title">Assign Tasks</span>
        <div class="dropdown-block">
            <div class="dropdown">
                <button class="dropbtn">
                    <img class="menu-icon" src="../../../assets/menu.png">
                </button>
                <div class="dropdown-content">
                    <a (click)="menuRoute('assign-task')">Assign Task</a>
                    <a (click)="menuRoute('step-execution')">Step Execution</a>
                    <a (click)="menuRoute('task')">Task Creation</a>
                    <a (click)="menuRoute('task-track')">Task Track</a>
                    <a (click)="menuRoute('overview')">Overview</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="task-background child-block">
    <div class="task-main-block">
        <div @explainerAnim>
            <h3 class="col">Available Workflows:</h3>
            <div *ngFor="let workflow of workflowList; let i=index">
                <div class="wf-block" class="col">
                    <input class="margin-right" (change)="getWorkflowSteps(workflow.id)" type="radio" name="workflow" id="i"> <span class="choose-workflow" >Choose Workflow</span>
                    <span class="margin-right">{{i+1}}.</span>
                    <span class="workflow-name">{{workflow.name}}</span>
                </div>
            </div>

            <div class="workflow-assign-block" class="col">
                <div class="row" *ngIf="stepMainBranch.length > 0" @explainerAnim>
                    <div class="col-md-4 col">
                        <h3>Main Branch</h3>
                        <div *ngFor="let main of stepMainBranch" [@flyInOut]="'in'" class="sub-block">
                            <span>{{main.stepSequence}}</span>)&nbsp;
                            <span>{{main.name}}</span>
                            <br>
                        </div>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Assign To:</h5>
                        <select class="select-activity" (change)="mainBranchAssign($event)">
                            <option>Select Assignee</option>
                            <option [value]="activity.id" *ngFor="let activity of activityList">{{activity.name}}</option>
                        </select>
                    </div>
                    <br>
                </div>
               
                <hr>

                <div class="row" *ngIf="stepAndFirstBranch.length > 0" @explainerAnim>
                    <div class="col-md-4 col">
                        <h3>And A-Split</h3>
                        <div *ngFor="let andFirst of stepAndFirstBranch" [@flyInOut]="'in'" class="sub-block">
                            <span>{{andFirst.stepSequence}}</span>)&nbsp;
                            <span>{{andFirst.name}}</span>
                        </div>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Assign To:</h5>
                        <select class="select-activity" (change)="andFirstBranchAssign($event)">
                            <option>Select Assignee</option>
                            <option [value]="activity.id" *ngFor="let activity of activityList">{{activity.name}}</option>
                        </select>
                    </div>
                </div>

                <hr>

                <div class="row" *ngIf="stepAndSecondBranch.length > 0" @explainerAnim>
                    <div class="col-md-4 col">
                        <h3>And B-Split</h3>
                        <div *ngFor="let andSecond of stepAndSecondBranch" [@flyInOut]="'in'" class="sub-block">
                            <span>{{andSecond.stepSequence}}</span>)&nbsp;
                            <span>{{andSecond.name}}</span>
                        </div>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Assign To:</h5>
                        <select class="select-activity" (change)="andSecondBranchAssign($event)">
                            <option>Select Assignee</option>
                            <option [value]="activity.id" *ngFor="let activity of activityList">{{activity.name}}</option>
                        </select>
                    </div>
                </div>

                <hr>

                <div class="row" *ngIf="stepOrFirstBranch.length > 0" @explainerAnim>
                    <div class="col-md-4 col">
                        <h3>Or A-Split</h3>
                        <div *ngFor="let orFirst of stepOrFirstBranch" [@flyInOut]="'in'" class="sub-block">
                            <span>{{orFirst.stepSequence}}</span>)&nbsp;
                            <span>{{orFirst.name}}</span>
                        </div>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Assign To:</h5>
                        <select class="select-activity" (change)="orFirstBranchAssign($event)">
                            <option>Select Assignee</option>
                            <option [value]="activity.id" *ngFor="let activity of activityList">{{activity.name}}</option>
                        </select>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Or A-Split Condition</h5>
                        <input type="text" [(ngModel)]="orACondition" (change)="orAConditionUpdate()">
                    </div>
                </div>

                <hr>

                <div class="row" *ngIf="stepOrSecondBranch.length > 0" @explainerAnim>
                    <div class="col-md-4 col">
                        <h3>Or B-Split</h3>
                        <div *ngFor="let orSecond of stepOrSecondBranch" [@flyInOut]="'in'" class="sub-block">
                            <span>{{orSecond.stepSequence}}</span>)&nbsp;
                            <span>{{orSecond.name}}</span>
                        </div>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Assign To:</h5>
                        <select class="select-activity" (change)="orSecondBranchAssign($event)">
                            <option>Select Assignee</option>
                            <option [value]="activity.id" *ngFor="let activity of activityList">{{activity.name}}</option>
                        </select>
                    </div>
                    <div class="col-md-4 col">
                        <h5>Or B-Split Condition</h5>
                        <input type=text [(ngModel)]="orBConditon" (change)="orBConditionUpdate()">
                    </div>
                </div>
                <hr>
            </div>
            <div class="step-execute-block">
                <button id="step-execute" (click)="stepExecute()">Assign Tasks to Users</button>
            </div>
        </div>
    </div>
</div>